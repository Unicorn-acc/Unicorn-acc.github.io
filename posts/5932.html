<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>ç›®æ ‡æ£€æµ‹-03-FPNç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(Feature Pyramid Network) | Miracloâ€™s Blog</title><meta name="author" content="Miraclo"><meta name="copyright" content="Miraclo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å‚è€ƒå†…å®¹æ¥è‡ªéœ¹é›³å§å•¦Wz upä¸»çš„bç«™é“¾æ¥ï¼šhttps:&#x2F;&#x2F;space.bilibili.com&#x2F;18161609&#x2F;channel&#x2F;index upä¸»çš„githubï¼šhttps:&#x2F;&#x2F;github.com&#x2F;WZMIAOMIAO&#x2F;deep-learning-for-image-processing upä¸»çš„CSDNåšå®¢ï¼šhttps:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_37541097&#x2F;articl"><meta property="og:type" content="article"><meta property="og:title" content="ç›®æ ‡æ£€æµ‹-03-FPNç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(Feature Pyramid Network)"><meta property="og:url" content="http://unicorn-acc.github.io/posts/5932.html"><meta property="og:site_name" content="Miracloâ€™s Blog"><meta property="og:description" content="å‚è€ƒå†…å®¹æ¥è‡ªéœ¹é›³å§å•¦Wz upä¸»çš„bç«™é“¾æ¥ï¼šhttps:&#x2F;&#x2F;space.bilibili.com&#x2F;18161609&#x2F;channel&#x2F;index upä¸»çš„githubï¼šhttps:&#x2F;&#x2F;github.com&#x2F;WZMIAOMIAO&#x2F;deep-learning-for-image-processing upä¸»çš„CSDNåšå®¢ï¼šhttps:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_37541097&#x2F;articl"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://w.wallhaven.cc/full/kx/wallhaven-kx3p1q.jpg"><meta property="article:published_time" content="2022-11-17T16:26:04.000Z"><meta property="article:modified_time" content="2022-11-19T06:50:06.675Z"><meta property="article:author" content="Miraclo"><meta property="article:tag" content="DeepLearning"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://w.wallhaven.cc/full/kx/wallhaven-kx3p1q.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://unicorn-acc.github.io/posts/5932"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"prismjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:2e3},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"å¤©",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:{limitCount:500,languages:{author:"ä½œè€…: Miraclo",link:"é“¾æ¥: ",source:"æ¥æº: Miracloâ€™s Blog",info:"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"ç›®æ ‡æ£€æµ‹-03-FPNç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(Feature Pyramid Network)",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-11-19 06:50:06"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/mouth.css"><meta name="generator" content="Hexo 6.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">124</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">28</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/algor-record/"><i class="fa-fw fas fa-gamepad"></i><span> ç®—æ³•åˆ·é¢˜è®°å½•</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:randomPost();"><i class="fa-fw fa-solid fa-shuffle"></i><span></span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://w.wallhaven.cc/full/kx/wallhaven-kx3p1q.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Miracloâ€™s Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/algor-record/"><i class="fa-fw fas fa-gamepad"></i><span> ç®—æ³•åˆ·é¢˜è®°å½•</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:randomPost();"><i class="fa-fw fa-solid fa-shuffle"></i><span></span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ç›®æ ‡æ£€æµ‹-03-FPNç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(Feature Pyramid Network)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">å‘è¡¨äº</span><time datetime="2022-11-17T16:26:04.000Z" title="å‘è¡¨äº 2022-11-17 16:26:04">2022-11-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">æ·±åº¦å­¦ä¹ ç¬”è®°</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/">ç½‘ç»œæ¨¡å‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/2%E3%80%81%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E7%AF%87/">2ã€ç›®æ ‡æ£€æµ‹ç¯‡</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">3.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>13åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="ç›®æ ‡æ£€æµ‹-03-FPNç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(Feature Pyramid Network)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote><p>å‚è€ƒå†…å®¹æ¥è‡ªéœ¹é›³å§å•¦Wz</p><p>upä¸»çš„bç«™é“¾æ¥ï¼šhttps://space.bilibili.com/18161609/channel/index</p><p>upä¸»çš„githubï¼šhttps://github.com/WZMIAOMIAO/deep-learning-for-image-processing</p><p>upä¸»çš„CSDNåšå®¢ï¼šhttps://blog.csdn.net/qq_37541097/article/details/103482003</p><p>æ–‡ç« å‚è€ƒï¼šhttps://blog.csdn.net/weixin_44878336/category_11399973.html</p></blockquote><p><strong>Feature Pyramid Networks for Object Detection</strong>ï¼ˆ2016å¹´CVPRï¼‰</p><p>ä½œè€…: Tsung-Yi Lin, Piotr DollÃ¡r, Ross Girshick, Kaiming He, Bharath Hariharan, Serge Belongie</p><p>æœºæ„:</p><ol type="1"><li>Facebook AI Research (FAIR)</li><li>Cornell University and Cornell Tech</li></ol><p>è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/abs/1612.03144</p><p><strong>FPNçš„åˆ›æ–°ç‚¹ï¼š</strong></p><p>â€‹ FPNä¸»è¦è®¾è®¡äº†ä¸€ç§<strong>ç‰¹å¾é‡‘å­—å¡”çš„ç½‘ç»œç»“æ„</strong>ï¼Œå¯ä»¥åº”ç”¨åˆ°å…¶ä»–æ£€æµ‹ç½‘ç»œä¸­ï¼Œ<strong>å®ç°æ›´é«˜çš„æ£€æµ‹ç²¾åº¦</strong>ã€‚å…¶å‡ºå‘ç‚¹æ˜¯è®¤ä¸ºå›¾åƒçš„ç‰¹å¾é‡‘å­—å¡”ï¼Œè¿™ç§å¤šå°ºåº¦çš„åˆ†è§£æ–¹å¼ï¼Œå¯¹ä¿è¯å°ºåº¦ä¸å˜æ€§æœ‰é‡è¦ä½œç”¨ï¼›è€Œä¼ ç»Ÿçš„å›¾åƒé‡‘å­—å¡”æ–¹æ³•æ£€æµ‹é€Ÿåº¦å¤ªæ…¢ï¼Œç±»ä¼¼SSDè¿™ç§å–å·ç§¯ç½‘ç»œä¸åŒå±‚æ¬¡çš„ç‰¹å¾å›¾æ¥è¿‘ä¼¼å›¾åƒé‡‘å­—å¡”çš„åšæ³•ï¼Œä¸èƒ½å¾ˆå¥½åˆ©ç”¨æµ…å±‚ç½‘ç»œé«˜è§£æç‡çš„ç‰¹å¾ï¼Œå¯¹å°ç‰©ä½“çš„æ£€æµ‹æ•ˆæœä¸ä½³ã€‚æ‰€ä»¥ï¼Œè®ºæ–‡ä½œè€…è®¾è®¡äº†ä¸€ç§ç‰¹å¾é‡‘å­—å¡”çš„ç½‘ç»œç»“æ„ï¼Œ<strong>å…·æœ‰å¤šå°ºåº¦çš„ç‰¹å¾ï¼ŒåŒæ—¶é«˜ä½è§£æç‡çš„ç‰¹å¾è¿›è¡Œäº†ä¸€å®šçš„èåˆã€‚</strong></p><h1 id="æ‘˜è¦">0. æ‘˜è¦</h1><p>Feature pyramids are a basic component in recognition systems for detecting objects at different scales. But recent deep learning object detectors have avoided pyramid representations, in part because they are compute and memory intensive. In this paper, we exploit the inherent multi-scale, pyramidal hierarchy of deep convolutional networks to construct feature pyramids with marginal extra cost. A top-down architecture with lateral connections is developed for building high-level semantic feature maps at all scales. This architecture, called a Feature Pyramid Network (FPN), shows significant improvement as a generic feature extractor in several applications. Using FPN in a basic Faster R-CNN system, our method achieves state-of-the-art single-model results on the COCO detection benchmark without bells and whistles, surpassing all existing single-model entries including those from the COCO 2016 challenge winners. In addition, our method can run at 5 FPS on a GPU and thus is a practical and accurate solution to multi-scale object detection. Code will be made publicly available.</p><p>ç‰¹å¾é‡‘å­—å¡”æ˜¯è¯†åˆ«ç³»ç»Ÿä¸­æ£€æµ‹ä¸åŒå°ºåº¦ç›®æ ‡çš„ä¸€ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†ã€‚ä½†æœ€è¿‘çš„æ·±åº¦å­¦ä¹ ç›®æ ‡æ£€æµ‹å™¨é¿å…äº†é‡‘å­—å¡”è¡¨ç¤ºï¼Œéƒ¨åˆ†åŸå› æ˜¯å®ƒä»¬çš„è®¡ç®—å’Œå†…å­˜å¯†é›†ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨æ·±åº¦å·ç§¯ç½‘ç»œå›ºæœ‰çš„å¤šå°ºåº¦ã€é‡‘å­—å¡”å¼çš„å±‚æ¬¡ç»“æ„æ¥æ„å»ºç‰¹å¾é‡‘å­—å¡”ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„æˆæœ¬ã€‚æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªå…·æœ‰<strong>æ¨ªå‘è¿æ¥</strong>çš„<strong>è‡ªä¸Šè€Œä¸‹</strong>çš„æ¶æ„ï¼Œç”¨äºåœ¨æ‰€æœ‰å°ºåº¦ä¸Šæ„å»ºé«˜æ°´å¹³çš„è¯­ä¹‰ç‰¹å¾å›¾ã€‚è¿™ç§æ¶æ„è¢«ç§°ä¸ºç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼ˆFPNï¼‰ï¼Œä½œä¸ºä¸€ç§é€šç”¨çš„ç‰¹å¾æå–å™¨ï¼Œåœ¨ä¸€äº›åº”ç”¨ä¸­æ˜¾ç¤ºå‡ºæ˜æ˜¾çš„æ”¹è¿›ã€‚åœ¨åŸºæœ¬çš„Faster R-CNNç³»ç»Ÿä¸­ä½¿ç”¨FPNï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨COCOæ£€æµ‹baselineä¸Šå–å¾—äº†æœ€å…ˆè¿›çš„<strong>å•æ¨¡å‹ç»“æœ</strong>ï¼Œæ²¡æœ‰ä»»ä½•èŠ±å“¨çš„ä¸œè¥¿ï¼Œè¶…è¿‡äº†æ‰€æœ‰ç°æœ‰çš„å•æ¨¡å‹ä½œå“ï¼ŒåŒ…æ‹¬COCO 2016æŒ‘æˆ˜èµ›è·å¥–è€…çš„ä½œå“ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åœ¨GPUä¸Šä»¥5 FPSçš„é€Ÿåº¦è¿è¡Œï¼Œå› æ­¤æ˜¯ä¸€ä¸ªå®ç”¨è€Œå‡†ç¡®çš„å¤šå°ºåº¦ç›®æ ‡æ£€æµ‹è§£å†³æ–¹æ¡ˆã€‚ä»£ç å°†å…¬å¼€æä¾›ã€‚</p><h1 id="å‰ç»">1. å‰ç»</h1><h2 id="fpnåœ¨faster-r-cnnä¸Šçš„æ•ˆæœ">1.1 FPNåœ¨Faster R-CNNä¸Šçš„æ•ˆæœ</h2><p>Faster R-CNNå¦‚æœä½¿ç”¨äº†FPNç»“æ„ï¼Œåœ¨COCOçš„AP@0.5~0.95ä¸Šå¯ä»¥æå‡2.3%ï¼›åœ¨PASCALçš„AP@0.5æ˜¯å¯ä»¥æå‡3.8%ã€‚è¿™è¯´æ˜FPNç»“æ„å¯¹äºæå‡ç›®æ ‡æ£€æµ‹ç½‘ç»œæ€§èƒ½å¾ˆæœ‰æ•ˆæœã€‚</p><h2 id="ä¸åŒçš„å›¾åƒé‡‘å­—å¡”æ–¹æ¡ˆå¯¹æ¯”">1.2 ä¸åŒçš„å›¾åƒé‡‘å­—å¡”æ–¹æ¡ˆå¯¹æ¯”</h2><p><img src="https://cdn.jsdelivr.net/gh/Unicorn-acc/blogimgs/imgs/202211171629773.png" style="zoom:50%"></p><blockquote><p>Figure 1. (a) Using an image pyramid to build a feature pyramid. Features are computed on each of the image scales independently, which is slow. (b) Recent detection systems have opted to use only single scale features for faster detection. Â© An alternative is to reuse the pyramidal feature hierarchy computed by a ConvNet as if it were a featurized image pyramid. (d) Our proposed Feature Pyramid Network (FPN) is fast like (b) and Â©, but more accurate. In this figure, feature maps are indicate by blue outlines and thicker outlines denote semantically stronger features.</p><p>å›¾1. (a) ä½¿ç”¨å›¾åƒé‡‘å­—å¡”æ¥å»ºç«‹ä¸€ä¸ªç‰¹å¾é‡‘å­—å¡”ã€‚ç‰¹å¾æ˜¯åœ¨æ¯ä¸ªå›¾åƒå°ºåº¦ä¸Š<strong>ç‹¬ç«‹è®¡ç®—</strong>çš„ï¼Œè¿™å¾ˆæ…¢ã€‚ (b) æœ€è¿‘çš„ç›®æ ‡æ£€æµ‹ç½‘ç»œé€‰æ‹©äº†åªä½¿ç”¨å•ä¸€å°ºåº¦çš„ç‰¹å¾ï¼Œä»¥åŠ å¿«æ£€æµ‹é€Ÿåº¦ã€‚Â© å¦ä¸€ç§æ–¹æ³•æ˜¯é‡æ–°ä½¿ç”¨ç”±ConvNetè®¡ç®—çš„é‡‘å­—å¡”ç‰¹å¾å±‚æ¬¡ï¼Œå°±åƒå®ƒæ˜¯ä¸€ä¸ªç‰¹å¾åŒ–çš„å›¾åƒé‡‘å­—å¡”ã€‚(d) æˆ‘ä»¬æå‡ºçš„ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼ˆFPNï¼‰ä¸(b)å’ŒÂ©ä¸€æ ·å¿«é€Ÿï¼Œä½†æ›´å‡†ç¡®ã€‚åœ¨è¯¥å›¾ä¸­ï¼Œç‰¹å¾å›¾ç”±è“è‰²è½®å»“è¡¨ç¤ºï¼Œ<strong>è¾ƒç²—çš„è½®å»“è¡¨ç¤ºè¯­ä¹‰ä¸Šæ›´å¼ºçš„ç‰¹å¾</strong>ã€‚</p></blockquote><h3 id="a-ç‰¹å¾åŒ–çš„å›¾åƒé‡‘å­—å¡”">1.2.1 (a) ç‰¹å¾åŒ–çš„å›¾åƒé‡‘å­—å¡”</h3><p>å› ä¸ºè¦æ£€æµ‹ä¸åŒå°ºåº¦çš„å›¾ç‰‡,æ‰€ä»¥å¯ä»¥å°†å›¾ç‰‡ç¼©æ”¾åˆ°ä¸åŒçš„å°ºåº¦, å¦‚ (a) æ‰€ç¤º, å°†ç‰¹å¾å›¾ç¼©æ”¾åˆ°äº† 4 ä¸ªä¸åŒçš„å°ºåº¦. ç„¶åéœ€è¦å¯¹æ¯ç§ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ä»¥æ­¤é€šè¿‡ç›®æ ‡æ£€æµ‹ç½‘ç»œå¾—åˆ°æ£€æµ‹ç»“æœ.</p><p>å› ä¸ºé¢„æµ‹å¤šå°‘ä¸ªå°ºåº¦çš„å›¾ç‰‡, å°±è¦æ£€æµ‹å¤šå°‘æ¬¡ä¸åŒå°ºåº¦çš„å›¾ç‰‡.è¿™ç§æ–¹æ³•çš„æ•ˆç‡å¾ˆæ˜æ˜¾æ˜¯éå¸¸ä½çš„.</p><h3 id="b-å•ä¸€çš„å°ºåº¦çš„å›¾ç‰‡">1.2.2 (b) å•ä¸€çš„å°ºåº¦çš„å›¾ç‰‡</h3><p>ä¹Ÿå°±æ˜¯Faster R-CNNä¸­ä½¿ç”¨çš„ç­–ç•¥, ç½‘ç»œæ£€æµ‹å°±ä½¿ç”¨ä¸€ç§å°ºåº¦çš„å›¾ç‰‡. å›¾bçš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾, å› ä¸ºåªæœ‰ä¸€ç§å°ºåº¦çš„å›¾ç‰‡, å› æ­¤é€Ÿåº¦ä¼šæœ‰ä¼˜åŠ¿. ä½†æ˜¯å› ä¸ºæ²¡æœ‰ä¸åŒå°ºåº¦çš„å›¾ç‰‡, æ‰€ä»¥å¯¹å°ç›®æ ‡çš„é¢„æµ‹æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½.</p><blockquote><p>å›¾ç‰‡é€šè¿‡backboneåä¼šè¿›è¡Œä¸‹é‡‡æ ·.</p></blockquote><h3 id="c-é‡‘å­—å¡”å‹ç‰¹å¾å±‚çº§">1.2.3 (c) é‡‘å­—å¡”å‹ç‰¹å¾å±‚çº§</h3><p>å›¾cä¸­çš„æ–¹æ¡ˆå’ŒSSDçš„æ–¹æ¡ˆç±»ä¼¼. é¦–å…ˆä½¿ç”¨ä¸€å¼ å›¾ç‰‡(ä¸€ç§å°ºåº¦)è¾“å…¥ç»™backbone, backboneåœ¨æ­£å‘ä¼ æ’­ä¸­ä¼šå¾—åˆ°ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾, ç„¶åå¯¹è¿™äº›ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾åˆ†åˆ«è¿›è¡Œé¢„æµ‹. ç›¸æ¯”äº(a), è¿™æ ·çš„å¤„ç†æ–¹æ¡ˆæ— ç–‘æ˜¯æ›´å¥½çš„.</p><h3 id="d-fpn-feature-pyramid-network-ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„">1.2.4 (d) FPN (Feature Pyramid Network, ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„)</h3><p>å›¾(d) å’Œ å›¾Â©æœ‰äº›ç±»ä¼¼, ä½†å¹¶ä¸æƒ³å›¾Â©åœ¨ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ä¸Šè¿›è¡Œç®€å•åœ°é¢„æµ‹, è€Œæ˜¯å°†ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾è¿›è¡Œèåˆå, å†è¿›è¡Œé¢„æµ‹.</p><p>æ ¹æ® 1.1 ä¸­çš„ç»“æœå¯ä»¥çœ‹åˆ°, FPNçš„ç¡®æ˜¯å¯ä»¥æå‡ç½‘ç»œçš„æ£€æµ‹æ•ˆæœçš„.</p><h1 id="fpn-feature-pyramid-network-ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„">2. FPN (Feature Pyramid Network, ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„)</h1><p>å‰é¢æˆ‘ä»¬æåˆ°, æˆ‘ä»¬éœ€è¦å¯¹ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾è¿›è¡Œèåˆ, é‚£ä¹ˆé—®é¢˜æ¥äº† â€“ è¯¥å¦‚ä½•è¿›è¡Œèåˆå‘¢?</p><p><img src="https://cdn.jsdelivr.net/gh/Unicorn-acc/blogimgs/imgs/202211171630938.png" style="zoom:50%"></p><blockquote><p>Figure 3. A building block illustrating the lateral connection and the top-down pathway, merged by addition.</p><p>å›¾3. ä¸€ä¸ªè¯´æ˜æ¨ªå‘è”ç³»å’Œè‡ªä¸Šè€Œä¸‹é€”å¾„çš„æ„ä»¶ï¼Œé€šè¿‡åŠ æ³•åˆå¹¶ã€‚</p></blockquote><h2 id="fpnå·¥ä½œç»†èŠ‚">2.1 FPNå·¥ä½œç»†èŠ‚</h2><p>ä¸Šå›¾ä¸­,æ¯ä¸€ä¸ªéœ€è¦èåˆçš„ç‰¹å¾å›¾çš„å°ºå¯¸å…¶æ˜¯äººä¸ºè®¾è®¡çš„, ä¸€èˆ¬è€Œè¨€, åœ¨backboneä¸­çš„ç‰¹å¾å›¾çš„<strong>ä¸‹é‡‡æ ·ç‡ä¸º2</strong>.</p><p>åœ¨FPNç»“æ„, å¯¹äºæ¯ä¸€ä¸ªbackboneä¸­çš„ç‰¹å¾å›¾éƒ½ä¼š<strong>å…ˆä½¿ç”¨ä¸€ä¸ª 1Ã—1çš„å·ç§¯å±‚å¤„ç†. ä½¿ç”¨1Ã—1å·ç§¯å±‚çš„ç›®çš„æ˜¯è°ƒæ•´ä¸åŒç‰¹å¾å›¾çš„channel.</strong></p><blockquote><p>å› ä¸ºåœ¨èåˆçš„æ—¶å€™é‡‡ç”¨çš„æ˜¯åŠ æ³• âŠ•, æ‰€ä»¥åœ¨èåˆä¹‹å‰éœ€è¦ä¿è¯ä¸åŒç‰¹å¾å›¾çš„shapeæ˜¯ç›¸åŒçš„. è€Œ1Ã—1çš„å·ç§¯å±‚æ˜¯ä¿è¯å®ƒä»¬çš„channelæ˜¯ä¸€æ ·çš„.</p></blockquote><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†ç‰¹å¾å›¾çš„å°ºå¯¸ç»Ÿä¸€.</p><p>å…ˆå¯¹äºæœ€ä¸Šé¢çš„ç‰¹å¾å›¾(æœ€é«˜å±‚çš„)éœ€è¦è¿›è¡Œ2å€çš„ä¸Šé‡‡æ ·, ä½¿å…¶å°ºå¯¸Ã—2 (ä¸Šé‡‡æ ·è¿‡ç¨‹ä¸ä¼šæ”¹å˜channel); å†å¯¹ä¸­é—´ç‰¹å¾å›¾è¿›è¡Œ2Ã—çš„ä¸Šé‡‡æ ·.</p><h2 id="ä¸¤å€ä¸Šé‡‡æ ·å®ç°è¿‡ç¨‹">2.2 ä¸¤å€ä¸Šé‡‡æ ·å®ç°è¿‡ç¨‹</h2><p>è¿™é‡Œçš„ä¸Šé‡‡æ ·å®ç°éå¸¸ç®€å•, å¹¶æ²¡æœ‰ä½¿ç”¨è½¬ç½®å·ç§¯ (Transposed Convolution/ Deconvolution), è€Œæ˜¯ä½¿ç”¨ <strong>é‚»è¿‘æ’å€¼ç®—æ³•</strong> å®ç°çš„, å¦‚ä¸‹æ‰€ç¤º:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> idx <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    inner_lateral <span class="token operator">=</span> sefl<span class="token punctuation">.</span>get_result_from_inner_blocks<span class="token punctuation">(</span>x<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span>
    feat_shape <span class="token operator">=</span> inner_lateral<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    inner_top_down <span class="token operator">=</span> F<span class="token punctuation">.</span>interpolate<span class="token punctuation">(</span>last_inner<span class="token punctuation">,</span> size<span class="token operator">=</span>feat_shape<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">"nearest"</span><span class="token punctuation">)</span>  <span class="token comment"># é‚»è¿‘æ’å€¼ç®—æ³•</span>
    last_inner <span class="token operator">=</span> inner_lateral <span class="token operator">+</span> inner_top_down
    result<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>get_result_from_layer_blocks<span class="token punctuation">(</span>last_inner<span class="token punctuation">,</span> idx<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="fpnç»†èŠ‚ç»“æ„">2.3 FPNç»†èŠ‚ç»“æ„</h2><p><img src="https://img-blog.csdnimg.cn/29ba03c0e34548b880c68dbed52b1898.png#pic_center" style="zoom:50%"></p><p><strong>åœ¨é€šè¿‡1Ã—1å·ç§¯å’Œä¸Šé‡‡æ ·ä¹‹å, FPNæ¯ä¸ªåˆ†æ”¯çš„ç‰¹å¾å›¾éƒ½å°±å¯ä»¥èåˆäº†</strong>. ä¹‹å‰å›¾ä¸­æ²¡æœ‰ç”»å‡ºæ¥çš„æ˜¯åé¢çš„3Ã—3å·ç§¯. æ¯ä¸€ä¸ª3Ã—3å·ç§¯ä¼šå¯¹å¾—åˆ°çš„èåˆåçš„ç‰¹å¾å›¾è¿›è¡Œç‰¹å¾å›¾æå–, ä»è€Œä»¥æ­¤å¾—åˆ°æœ€ç»ˆè¾“å‡º <code>P2</code>, <code>P3</code>, <code>P4</code>, <code>P5</code>.</p><p>æ ¹æ®åŸè®ºæ–‡çš„æè¿°, æœ€ç»ˆä¼šåœ¨<code>P5</code>çš„åŸºç¡€ä¸Šè¿›è¡Œä¸‹é‡‡æ ·, ä»è€Œå¾—åˆ° <code>P6</code>.</p><p>è¿™é‡Œä¸‹é‡‡æ ·çš„å…·ä½“å®ç°ä¹Ÿéå¸¸ç®€å•, å°±æ˜¯MaxPooling.</p><blockquote><p>åŸè®ºæ–‡ä¸­, 1Ã—1å·ç§¯æ ¸çš„ä¸ªæ•°ä¸º256, å³æœ€ç»ˆå¾—åˆ°çš„ç‰¹å¾å›¾çš„channeléƒ½ç­‰äº256.</p><p>å¾—åˆ°<code>P6</code>çš„Poolingä½¿ç”¨çš„MaxPooling, è€Œå®ƒçš„æ± åŒ–æ ¸å¤§å°ä¸º1Ã—1, æ‰€ä»¥è¿™é‡Œæ¢æˆAVGPoolingæ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ ğŸ˜‚.</p></blockquote><h3 id="æ³¨æ„äº‹é¡¹1">2.3.1 æ³¨æ„äº‹é¡¹1</h3><p><code>P6</code> åªç”¨äºFaster R-CNNçš„RPNéƒ¨åˆ†(RPNç”ŸæˆProposalsçš„æ—¶å€™ä¼šä½¿ç”¨ <code>P2 ~ P6</code>è¿™5ä¸ªç‰¹å¾å›¾). ä½†å¯¹äºFaster R-CNNçš„Predictor, åªä¼šä½¿ç”¨ <code>P2 ~ P5</code>è¿™å››ä¸ªç‰¹å¾å›¾ä¸Šè¿›è¡Œé¢„æµ‹.</p><blockquote><p>å¯¹äºFaster R-CNNè€Œè¨€, ä¼šåœ¨é¢„æµ‹ç‰¹å¾å›¾ä¸Šè¿›è¡ŒRPN, ä»è€Œç”Ÿæˆå¾—åˆ°ä¸€ç³»åˆ—çš„Proposals, ä¹‹åä¼šå°†å¾—åˆ°çš„proposalsæ˜ å°„å›ç‰¹å¾å›¾ä¸Š, ç„¶åå†å°†æ˜ å°„çš„è¿™éƒ¨åˆ†ç‰¹å¾è¾“å…¥åˆ°Predictor, å¾—åˆ°æœ€ç»ˆé¢„æµ‹çš„ç»“æœ.</p><p>ä½†æ˜¯åœ¨ä½¿ç”¨FPNç»“æ„çš„Faster R-CNNç½‘ç»œä¸­, é¦–å…ˆFPNç»“æ„ç”Ÿæˆ5ç§ä¸åŒå°ºåº¦çš„é¢„æµ‹ç‰¹å¾å›¾, ä¹‹ååœ¨æ‰€æœ‰çš„é¢„æµ‹ç‰¹å¾å›¾ä¸Šè¿›è¡ŒRPN, ä»è€Œå¾—åˆ°é¢„æµ‹æ‰€éœ€çš„proposals. åœ¨å°†proposalsæ˜ å°„ä¼šé¢„æµ‹ç‰¹å¾å›¾æ—¶, <strong>ä¸ä¼šä½¿ç”¨5ç§ä¸åŒå°ºåº¦çš„é¢„æµ‹ç‰¹å¾å›¾, è€Œæ˜¯ä»…ä»…ä½¿ç”¨ <code>P2 ~ P5</code> è¿™å››ç§å°ºåº¦çš„é¢„æµ‹ç‰¹å¾å›¾ä¸Š</strong>. æœ€åå†ç»è¿‡Predictorå¾—åˆ°æœ€ç»ˆé¢„æµ‹çš„ç»“æœ.</p></blockquote><p>è¿™é‡Œè‚¯å®šä¼šæœ‰ç–‘æƒ‘ --<strong>&gt; RPNç½‘ç»œåœ¨ä¸åŒå°ºåº¦ç‰¹å¾å›¾ä¸Šç”Ÿæˆçš„proposalsè¯¥å¦‚ä½•ç¡®å®šå®ƒä»¬å„è‡ªè¯¥æ˜ å°„åˆ°å“ªä¸€ä¸ªç‰¹å¾å›¾ä¸Šå‘¢?</strong> è¿™ä¸ªé—®é¢˜æˆ‘ä»¬å…ˆæŒ‰ä¸‹ä¸è¡¨.</p><h3 id="æ³¨æ„äº‹é¡¹2">2.3.2 æ³¨æ„äº‹é¡¹2</h3><p>ç”±äºåœ¨RPNç½‘ç»œä¸­ç”Ÿæˆäº†å¤šä¸ªä¸åŒå°ºåº¦çš„proposals, æ‰€ä»¥ç½‘ç»œå¯ä»¥åœ¨ä¸åŒçš„é¢„æµ‹ç‰¹å¾å›¾ä¸Šåˆ†åˆ«é’ˆå¯¹ä¸åŒå°ºåº¦çš„ç›®æ ‡è¿›è¡Œé¢„æµ‹.</p><blockquote><p>ä¹‹å‰åœ¨è®²Faster R-CNNæ—¶, ç”±äºåªæœ‰ä¸€ä¸ªé¢„æµ‹ç‰¹å¾å›¾, æ‰€ä»¥ä»…ä»…æ˜¯åœ¨ä¸€ä¸ªé¢„æµ‹ç‰¹å¾å›¾ä¸Šç”Ÿæˆä¸åŒé¢ç§¯å’Œæ¯”ä¾‹çš„Anchors. ä½†æ˜¯å¼•å…¥FPNç»“æ„å, å°±å¯ä»¥ä½¿ç”¨ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾å»é¢„æµ‹ä¸åŒå¤§å°çš„ç›®æ ‡.</p></blockquote><h2 id="ä¸åŒé¢„æµ‹ç‰¹å¾å›¾é¢„æµ‹çš„ç›®æ ‡å¤§å°åŠå…¶å‚æ•°è®¾ç½®">2.4 ä¸åŒé¢„æµ‹ç‰¹å¾å›¾é¢„æµ‹çš„ç›®æ ‡å¤§å°åŠå…¶å‚æ•°è®¾ç½®</h2><p><img src="https://cdn.jsdelivr.net/gh/Unicorn-acc/blogimgs/imgs/202211171645419.png" style="zoom:50%"></p><blockquote><p>Formally, we define the anchors to have areas of {322, 642, 1282, 2562, 5122} pixels on {P2, P3, P4, P5, P6} respectively. As in [29] we also use anchors of multiple aspect ratios {1:2, 1:1, 2:1} at each level. So in total there are 15 anchors over the pyramid.</p><p>å½¢å¼ä¸Šï¼Œæˆ‘ä»¬å®šä¹‰Anchorsåœ¨{P2, P3, P4, P5, P6}ä¸Šçš„é¢ç§¯åˆ†åˆ«ä¸º{322, 642, 1282, 2562, 5122}åƒç´ ã€‚ä¸[29]ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨æ¯ä¸€çº§ä½¿ç”¨å¤šä¸ªé•¿å®½æ¯”çš„é”šç‚¹{1:2, 1:1, 2:1}ã€‚æ‰€ä»¥åœ¨é‡‘å­—å¡”ä¸Šæ€»å…±æœ‰15ä¸ªé”šç‚¹ã€‚</p></blockquote><table><thead><tr class="header"><th>é¢„æµ‹ç‰¹å¾å›¾</th><th>é¢„æµ‹ç›®æ ‡å¤§å°</th><th>é¢„æµ‹ç›®æ ‡å°ºå¯¸</th><th>æ¯”ä¾‹</th></tr></thead><tbody><tr class="odd"><td><code>P2</code></td><td>æœ€å°ç›®æ ‡</td><td>32Ã—32</td><td>1:2, 1:1, 2:1</td></tr><tr class="even"><td><code>P3</code></td><td>ç•¥å°ç›®æ ‡</td><td>64Ã—64</td><td>1:2, 1:1, 2:1</td></tr><tr class="odd"><td><code>P4</code></td><td>ä¸­ç›®æ ‡</td><td>128Ã—128</td><td>1:2, 1:1, 2:1</td></tr><tr class="even"><td><code>P5</code></td><td>å¤§ç›®æ ‡</td><td>256Ã—256</td><td>1:2, 1:1, 2:1</td></tr><tr class="odd"><td><code>P6</code></td><td>æœ€å¤§ç›®æ ‡</td><td>512Ã—512</td><td>1:2, 1:1, 2:1</td></tr></tbody></table><h1 id="å…¶ä»–">3. å…¶ä»–</h1><h2 id="rpnå’Œfaster-r-cnnç»„ä»¶çš„æ•°é‡">3.1 RPNå’ŒFaster R-CNNç»„ä»¶çš„æ•°é‡</h2><p>åœ¨è®²è§£Faster R-CNNçš„æ—¶å€™æˆ‘ä»¬çŸ¥é“, ç½‘ç»œä¸­æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„éƒ¨åˆ†:</p><ol type="1"><li>RPN</li><li>Faster R-CNN Predictor</li></ol><p>å¦‚ä¸‹å›¾æ‰€ç¤º.</p><p><img src="https://cdn.jsdelivr.net/gh/Unicorn-acc/blogimgs/imgs/202211171647463.png"></p><p>ä½†æ˜¯åœ¨ä½¿ç”¨äº†FPNç»“æ„å, ä¼šç”Ÿæˆå¤šä¸ªé¢„æµ‹ç‰¹å¾å›¾, é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦éœ€è¦é’ˆå¯¹æ¯ä¸€ä¸ªé¢„æµ‹ç‰¹å¾å›¾ä½¿ç”¨ä¸åŒçš„RPNå’ŒPredictorå‘¢?</p><p>åœ¨åŸè®ºæ–‡ä¸­, ä½œè€…ä¹Ÿå¯¹å…¶è¿›è¡Œäº†å®éªŒ. ä½œè€…å‘ç°: åœ¨ä¸åŒçš„é¢„æµ‹ç‰¹å¾å›¾ä¸Š, å…±ç”¨åŒä¸€ä¸ªRPNå’ŒPredicatorå’Œåˆ†åˆ«åœ¨ä¸åŒé¢„æµ‹ç‰¹å¾å›¾ä½¿ç”¨ä¸åŒçš„RPNå’ŒPredictorçš„æ•ˆæœå…¶å®æ˜¯å·®ä¸å¤šçš„.</p><p>æ—¢ç„¶åœ¨æ£€æµ‹æ•ˆæœä¸Šæ²¡æœ‰ä»€ä¹ˆå·®å¼‚, é‚£ä¹ˆå…±äº«RPNå’ŒPredictoræ˜¯æ›´å¥½çš„é€‰æ‹© -&gt; å‡å°‘ç½‘ç»œè®­ç»ƒå‚æ•°.</p><h2 id="proposalsæ˜ å°„ç­–ç•¥">3.2 proposalsæ˜ å°„ç­–ç•¥</h2><p>å› ä¸ºä½¿ç”¨äº†FPNç»“æ„, æ‰€ä»¥ä¼šç”Ÿæˆä¸åŒå°ºåº¦çš„proposalså’Œé¢„æµ‹ç‰¹å¾å›¾, ä½†RPNéƒ¨åˆ†å’ŒPredicatoréƒ¨åˆ†ä½¿ç”¨çš„é¢„æµ‹ç‰¹å¾å›¾æ˜¯ä¸åŒçš„, å› æ­¤å¦‚ä½•è®©proposalsæ˜ å°„åˆ°é¢„æµ‹ç‰¹å¾å›¾ä¸Šå°±æˆäº†ä¸€ä¸ªé—®é¢˜.</p><p>ä½œè€…åœ¨åŸè®ºæ–‡ä¸­ç»™å‡ºäº†æ–¹æ¡ˆ:</p><p>We view our feature pyramid as if it were produced from an image pyramid. Thus we can adapt the assignment strategy of region-based detectors [15, 11] in the case when they are run on image pyramids. Formally, we assign an RoI of width w and height h (on the input image to the network) to the level <span class="math inline">\(P_k\)</span> of our feature pyramid by:</p><p>æˆ‘ä»¬æŠŠæˆ‘ä»¬çš„ç‰¹å¾é‡‘å­—å¡”çœ‹ä½œæ˜¯ç”±å›¾åƒé‡‘å­—å¡”äº§ç”Ÿçš„ã€‚å› æ­¤ï¼Œå½“åŸºäºåŒºåŸŸçš„æ£€æµ‹å™¨[15, 11]åœ¨å›¾åƒé‡‘å­—å¡”ä¸Šè¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´å®ƒä»¬çš„åˆ†é…ç­–ç•¥ã€‚å½¢å¼ä¸Šï¼Œæˆ‘ä»¬å°†å®½åº¦ä¸º $ w$ã€é«˜åº¦ä¸º $ h$ çš„RoIï¼ˆåœ¨ç½‘ç»œçš„è¾“å…¥å›¾åƒä¸Šï¼‰åˆ†é…ç»™æˆ‘ä»¬çš„ç‰¹å¾é‡‘å­—å¡”çš„ç¬¬<span class="math inline">\(P_k\)</span> å±‚ï¼Œæ–¹æ³•æ˜¯ï¼š</p><ul><li>$ k = k_0 + _2 ( / 224)$</li></ul><p>ä¸Šè¿°å…¬å¼ä¸­:</p><ul><li><span class="math inline">\(\lfloor \cdot \rfloor\)</span>è¡¨ç¤ºå‘ä¸‹å–æ•´</li><li><span class="math inline">\(k \in \{2, 3, 4, 5\}\)</span> å°±æ˜¯proposalsåº”è¯¥æ˜ å°„åˆ°çš„é¢„æµ‹ç‰¹å¾å›¾ç´¢å¼•(å¯¹åº”<code>P2 ~ P5</code>).</li><li><span class="math inline">\(k_0\)</span> è®¾ç½®ä¸º4</li><li><span class="math inline">\(wh\)</span> ä¸ºRPNç½‘ç»œç”Ÿæˆä¸€ç³»åˆ—proposalsåœ¨åŸå›¾ä¸Šçš„å®½åº¦å’Œé«˜åº¦</li></ul><p>å‡è®¾ æŸä¸€ä¸ªå±‚çš„proposalsæ˜ å°„åˆ°åŸå›¾ä¸Šçš„<span class="math inline">\(wh = 112\)</span>, é‚£ä¹ˆ:</p><p><span class="math inline">\(k=âŒŠk0+log_2â¡(wh/224)âŒ‹=âŒŠ4+log_2â¡(1/2)âŒ‹=âŒŠ4+(âˆ’1)âŒ‹=3\)</span></p><p>$ k$ä¸é¢„æµ‹ç‰¹å¾å›¾çš„ç¼–å·æ˜¯ä¸€ä¸€å¯¹åº”çš„, ä¹Ÿå°±æ˜¯è¯´, è¯¥å°ºåº¦çš„proposalsåº”è¯¥æ˜ å°„åˆ° <code>P3</code>ä¸Š.</p><hr><h1 id="ä»£ç å®ç°">4ã€ä»£ç å®ç°</h1><p>å…¶PyTorchä»£ç å®ç°å¦‚ä¸‹:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">LevelMapper</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Determine which FPN level each RoI in a set of RoIs should map to based
    on the heuristic in the FPN paper.

    Args:
        k_min (int)
        k_max (int)
        canonical_scale (int)
        canonical_level (int)
        eps (float)
    """</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>
        self<span class="token punctuation">,</span>
        k_min<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span>
        k_max<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span>
        canonical_scale<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">224</span><span class="token punctuation">,</span>
        canonical_level<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
        eps<span class="token punctuation">:</span> <span class="token builtin">float</span> <span class="token operator">=</span> <span class="token number">1e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>k_min <span class="token operator">=</span> k_min
        self<span class="token punctuation">.</span>k_max <span class="token operator">=</span> k_max
        self<span class="token punctuation">.</span>s0 <span class="token operator">=</span> canonical_scale
        self<span class="token punctuation">.</span>lvl0 <span class="token operator">=</span> canonical_level
        self<span class="token punctuation">.</span>eps <span class="token operator">=</span> eps

    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> boxlists<span class="token punctuation">:</span> List<span class="token punctuation">[</span>Tensor<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Tensor<span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Args:
            boxlists (list[BoxList])
            box_area: å°†å®½å’Œé«˜ç›¸ä¹˜åå†å¼€æ ¹å·
        """</span>
        <span class="token comment"># Compute level ids</span>
        s <span class="token operator">=</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">[</span>box_area<span class="token punctuation">(</span>boxlist<span class="token punctuation">)</span> <span class="token keyword">for</span> boxlist <span class="token keyword">in</span> boxlists<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Eqn.(1) in FPN paper</span>
        target_lvls <span class="token operator">=</span> torch<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lvl0 <span class="token operator">+</span> torch<span class="token punctuation">.</span>log2<span class="token punctuation">(</span>s <span class="token operator">/</span> self<span class="token punctuation">.</span>s0<span class="token punctuation">)</span> <span class="token operator">+</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span>self<span class="token punctuation">.</span>eps<span class="token punctuation">,</span> dtype<span class="token operator">=</span>s<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span><span class="token punctuation">)</span>
        target_lvls <span class="token operator">=</span> torch<span class="token punctuation">.</span>clamp<span class="token punctuation">(</span>target_lvls<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token operator">=</span>self<span class="token punctuation">.</span>k_min<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token operator">=</span>self<span class="token punctuation">.</span>k_max<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>target_lvls<span class="token punctuation">.</span>to<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>int64<span class="token punctuation">)</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>k_min<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>int64<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://Unicorn-acc.github.io">Miraclo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://unicorn-acc.github.io/posts/5932.html">http://unicorn-acc.github.io/posts/5932.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://Unicorn-acc.github.io" target="_blank">Miracloâ€™s Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/DeepLearning/">DeepLearning</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/kx/wallhaven-kx3p1q.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/60257.html"><img class="prev-cover" src="https://w.wallhaven.cc/full/vq/wallhaven-vqmyq3.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ç›®æ ‡æ£€æµ‹-03-RetinaNet</div></div></a></div><div class="next-post pull-right"><a href="/posts/24362.html"><img class="next-cover" src="https://w.wallhaven.cc/full/p9/wallhaven-p9273e.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">JVMç³»åˆ—-05-è™šæ‹Ÿæœºæ ˆï¼ˆé‡ç‚¹ï¼‰</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/5074.html" title="å›¾åƒåˆ†ç±»_CIFAR10æ•°æ®é›†"><img class="cover" src="https://w.wallhaven.cc/full/zy/wallhaven-zyxvqy.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-07</div><div class="title">å›¾åƒåˆ†ç±»_CIFAR10æ•°æ®é›†</div></div></a></div><div><a href="/posts/47625.html" title="å›¾åƒåˆ†ç±»_Fashion-MNISTæ•°æ®é›†(ResNet18è¿›è¡Œè¿ç§»å­¦ä¹ )"><img class="cover" src="https://w.wallhaven.cc/full/kx/wallhaven-kx3p1q.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-04</div><div class="title">å›¾åƒåˆ†ç±»_Fashion-MNISTæ•°æ®é›†(ResNet18è¿›è¡Œè¿ç§»å­¦ä¹ )</div></div></a></div><div><a href="/posts/56670.html" title="ç›®æ ‡æ£€æµ‹&#x2F;åˆ†å‰²_PASCAL VOC2012æ•°æ®é›†ä¸åˆ¶ä½œè‡ªå·±çš„æ•°æ®é›†(VOCæ ¼å¼)"><img class="cover" src="https://w.wallhaven.cc/full/x6/wallhaven-x619o3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-11</div><div class="title">ç›®æ ‡æ£€æµ‹&#x2F;åˆ†å‰²_PASCAL VOC2012æ•°æ®é›†ä¸åˆ¶ä½œè‡ªå·±çš„æ•°æ®é›†(VOCæ ¼å¼)</div></div></a></div><div><a href="/posts/2490.html" title="å›¾åƒåˆ†ç±»_èŠ±åˆ†ç±»æ•°æ®é›†"><img class="cover" src="https://w.wallhaven.cc/full/vq/wallhaven-vqmyq3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-06</div><div class="title">å›¾åƒåˆ†ç±»_èŠ±åˆ†ç±»æ•°æ®é›†</div></div></a></div><div><a href="/posts/64179.html" title="å›¾åƒåˆ†ç±»_00_LeNet_Pytorchå®˜æ–¹ç¤ºä¾‹"><img class="cover" src="https://w.wallhaven.cc/full/1p/wallhaven-1pjml1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-07</div><div class="title">å›¾åƒåˆ†ç±»_00_LeNet_Pytorchå®˜æ–¹ç¤ºä¾‹</div></div></a></div><div><a href="/posts/32696.html" title="ç›®æ ‡æ£€æµ‹çš„å¸¸è§æŒ‡æ ‡ä¸COCOè¯„ä»·æ ‡å‡†"><img class="cover" src="https://w.wallhaven.cc/full/1p/wallhaven-1pjml1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-12</div><div class="title">ç›®æ ‡æ£€æµ‹çš„å¸¸è§æŒ‡æ ‡ä¸COCOè¯„ä»·æ ‡å‡†</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-text">0. æ‘˜è¦</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%9E%BB"><span class="toc-text">1. å‰ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#fpn%E5%9C%A8faster-r-cnn%E4%B8%8A%E7%9A%84%E6%95%88%E6%9E%9C"><span class="toc-text">1.1 FPNåœ¨Faster R-CNNä¸Šçš„æ•ˆæœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9B%BE%E5%83%8F%E9%87%91%E5%AD%97%E5%A1%94%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94"><span class="toc-text">1.2 ä¸åŒçš„å›¾åƒé‡‘å­—å¡”æ–¹æ¡ˆå¯¹æ¯”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E7%89%B9%E5%BE%81%E5%8C%96%E7%9A%84%E5%9B%BE%E5%83%8F%E9%87%91%E5%AD%97%E5%A1%94"><span class="toc-text">1.2.1 (a) ç‰¹å¾åŒ–çš„å›¾åƒé‡‘å­—å¡”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-%E5%8D%95%E4%B8%80%E7%9A%84%E5%B0%BA%E5%BA%A6%E7%9A%84%E5%9B%BE%E7%89%87"><span class="toc-text">1.2.2 (b) å•ä¸€çš„å°ºåº¦çš„å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E9%87%91%E5%AD%97%E5%A1%94%E5%9E%8B%E7%89%B9%E5%BE%81%E5%B1%82%E7%BA%A7"><span class="toc-text">1.2.3 (c) é‡‘å­—å¡”å‹ç‰¹å¾å±‚çº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#d-fpn-feature-pyramid-network-%E7%89%B9%E5%BE%81%E9%87%91%E5%AD%97%E5%A1%94%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-text">1.2.4 (d) FPN (Feature Pyramid Network, ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fpn-feature-pyramid-network-%E7%89%B9%E5%BE%81%E9%87%91%E5%AD%97%E5%A1%94%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-text">2. FPN (Feature Pyramid Network, ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œç»“æ„)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#fpn%E5%B7%A5%E4%BD%9C%E7%BB%86%E8%8A%82"><span class="toc-text">2.1 FPNå·¥ä½œç»†èŠ‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E5%80%8D%E4%B8%8A%E9%87%87%E6%A0%B7%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="toc-text">2.2 ä¸¤å€ä¸Šé‡‡æ ·å®ç°è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fpn%E7%BB%86%E8%8A%82%E7%BB%93%E6%9E%84"><span class="toc-text">2.3 FPNç»†èŠ‚ç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B91"><span class="toc-text">2.3.1 æ³¨æ„äº‹é¡¹1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B92"><span class="toc-text">2.3.2 æ³¨æ„äº‹é¡¹2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E9%A2%84%E6%B5%8B%E7%89%B9%E5%BE%81%E5%9B%BE%E9%A2%84%E6%B5%8B%E7%9A%84%E7%9B%AE%E6%A0%87%E5%A4%A7%E5%B0%8F%E5%8F%8A%E5%85%B6%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-text">2.4 ä¸åŒé¢„æµ‹ç‰¹å¾å›¾é¢„æµ‹çš„ç›®æ ‡å¤§å°åŠå…¶å‚æ•°è®¾ç½®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">3. å…¶ä»–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#rpn%E5%92%8Cfaster-r-cnn%E7%BB%84%E4%BB%B6%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-text">3.1 RPNå’ŒFaster R-CNNç»„ä»¶çš„æ•°é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proposals%E6%98%A0%E5%B0%84%E7%AD%96%E7%95%A5"><span class="toc-text">3.2 proposalsæ˜ å°„ç­–ç•¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">4ã€ä»£ç å®ç°</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Miraclo</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">äººåªæœ‰åœ¨èµ°ä¸Šå¡è·¯çš„æ—¶å€™æ‰ä¼šç´¯å’Œè¿·èŒ«ã€‚</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"},chtml:{scale:1.1},options:{renderActions:{findScript:[10,t=>{for(const n of document.querySelectorAll('script[type^="math/tex"]')){var e=!!n.type.match(/; *mode=display/),e=new t.options.MathItem(n.textContent,t.inputJax[0],e),a=document.createTextNode("");n.parentNode.replaceChild(a,n),e.start={node:a,delim:"",n:0},e.end={node:a,delim:"",n:0},t.math.push(e)}},""],insertScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(t=>{t.hasAttribute("display")?btf.wrap(t,"div",{class:"mathjax-overflow"}):btf.wrap(t,"span",{class:"mathjax-overflow"})})},"",!1]}}};const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",a.id="MathJax-script",a.async=!0,document.head.appendChild(a)}</script></div><link rel="stylesheet" href="/css/Lete.css"><script src="/js/custom.js"></script><script src="/js/mouth.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&"/"===location.pathname&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="http://Unicorn-acc.github.io/categories/JavaæŠ€æœ¯æ ˆ/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“š JavaæŠ€æœ¯æ ˆç›¸å…³ (54)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://Unicorn-acc.github.io/categories/æ·±åº¦å­¦ä¹ ç¬”è®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ® æ·±åº¦å­¦ä¹ ç¬”è®°ç›¸å…³ (19)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://Unicorn-acc.github.io/categories/æ·±åº¦å­¦ä¹ ç¬”è®°/ç½‘ç»œæ¨¡å‹/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“’ ç½‘ç»œæ¨¡å‹ (14)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://Unicorn-acc.github.io/categories/æ•°æ®åº“/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">â€ğŸ‘“ æ•°æ®åº“ç›¸å…³ (36)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="http://Unicorn-acc.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>',console.log("å·²æŒ‚è½½magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(33.333333333333336% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style></body></html>